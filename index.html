<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="page" content="home">
  <title>Home ‚Äì Daily Focus</title>

  <link rel="icon" href="data:,">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

<!-- ================= NAV ================= -->
<nav class="top-nav">
  <a href="index.html">Home</a>
  <a href="weekly-dashboard.html">Weekly</a>
  <a href="scripts.html">Scripts</a>
  <a href="calendar.html">Calendar</a>
</nav>

<!-- ================= FOCUS TOGGLE ================= -->
<button id="focusToggle">Focus</button>

<!-- ================= ROLE HANDLING ================= -->
<script>
(function () {
  let role = localStorage.getItem("role");

  if (!role) {
    role = prompt("Enter role: admin / writer / editor");
    localStorage.setItem("role", role);
  }

  if (role === "writer" && location.pathname.endsWith("index.html")) {
    location.href = "scripts.html";
  }

  if (role === "editor" && location.pathname.endsWith("index.html")) {
    location.href = "calendar.html";
  }
})();
</script>

<!-- ================= HEADER ================= -->
<div class="card" style="text-align:center;">
  <h1 id="greeting"></h1>
  <p class="quote" id="dailyQuote"></p>
  <p class="quote">Focus on execution, not overload.</p>
</div>

<!-- ================= STREAKS + WEEK PROGRESS ================= -->
<div class="row">

  <div class="card">
    <h2>Consistency</h2>
    <div class="coins">
      <span class="coin bronze">3</span>
      <span class="coin silver">7</span>
      <span class="coin gold">21</span>
    </div>
    <p class="muted">Coins earned</p>
  </div>

  <div class="card">
    <h2>This Week</h2>
    <div class="ring" id="weekRing">0%</div>
    <p class="muted" id="weekCount">Progress updates automatically</p>
  </div>

</div>

<!-- ================= TODAY TASKS ================= -->
<div class="card">
  <h2>üìå Today‚Äôs Tasks</h2>
  <ul id="todayTasks">
    <li class="no-task">No tasks planned today</li>
  </ul>
</div>

<!-- ================= SCRIPTS PENDING ================= -->
<div class="card">
  <h2>Scripts Pending Today</h2>
  <ul id="pendingScripts">
    <li class="no-task">No pending scripts today</li>
  </ul>
</div>

<!-- ================= GREETING ================= -->
<script>
(function setGreeting() {
  const hour = new Date().getHours();
  let greeting = "Hello";

  if (hour >= 5 && hour < 12) greeting = "Good Morning";
  else if (hour >= 12 && hour < 17) greeting = "Good Afternoon";
  else greeting = "Good Evening";

  document.getElementById("greeting").innerText = greeting;
})();
</script>

<!-- ================= QUOTES ================= -->
<script>
(function setDailyQuote() {
  const quotes = [
    "Small actions done daily create massive results.",
    "Consistency beats intensity every time.",
    "Win the morning, win the day.",
    "Do the work even when motivation is missing.",
    "Future you is watching today‚Äôs choices.",
    "One focused day is better than seven distracted ones.",
    "Discipline is choosing what you want most over what you want now."
  ];

  const today = new Date().toDateString();
  const index = today
    .split("")
    .reduce((a, c) => a + c.charCodeAt(0), 0) % quotes.length;

  document.getElementById("dailyQuote").innerText = `‚Äú${quotes[index]}‚Äù`;
})();
</script>

<!-- ================= FOCUS MODE ================= -->
<script>
(function autoFocusMode() {
  const hour = new Date().getHours();
  const saved = localStorage.getItem("focusMode");

  if (saved === null && hour >= 5 && hour < 10) {
    document.body.classList.add("focus");
  }

  if (saved === "on") document.body.classList.add("focus");
  if (saved === "off") document.body.classList.remove("focus");
})();

document.getElementById("focusToggle").onclick = () => {
  const isOn = document.body.classList.toggle("focus");
  localStorage.setItem("focusMode", isOn ? "on" : "off");
};
</script>

<!-- ================= MAIN JS (SAFE LOAD) ================= -->
<script>
/* SAFE loader: prevents "Unexpected token <" crash */
(function loadMainJS() {
  const script = document.createElement("script");
  script.src = "js/main.js";
  script.defer = true;
  script.onerror = () =>
    console.warn("main.js not loaded (path issue or file missing)");
  document.body.appendChild(script);
})();
</script>

</body>
</html>


